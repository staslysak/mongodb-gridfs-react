(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{30:function(e,t,n){e.exports=n(43)},35:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(12),o=n.n(i),c=(n(35),n(20)),l=n(19),s=n(11),m=n.n(s),u={getImages:function(){return m.a.async((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.a.awrap(fetch("/files").then((function(e){return e.json()})).then((function(e){return e.files})));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}))},deleteImage:function(e){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.awrap(fetch("/files/"+e,{method:"DELETE"}).then((function(){return u.getImages()})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))},postImages:function(e){return m.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.a.awrap(fetch("/upload",{method:"POST",body:e,headers:{}}).then((function(e){return e.json()})).then((function(e){return console.log(e)})).then((function(){return u.getImages()})));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}))}},f=u,h=n(65),p=n(69),g=n(72),d=n(24),v=n.n(d),w=n(75),E=n(68),y=n(67),b=n(71),I=n(70),x=n(73),j=Object(h.a)({card:{maxWidth:345,width:"100%",margin:20},media:{minHeight:345}});var O=function(){var e=j(),t=r.a.useState({images:[],formImages:[]}),n=Object(l.a)(t,2),a=n[0],i=n[1];return r.a.useEffect((function(){f.getImages().then((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return i({images:e})}))}),[]),r.a.createElement(I.a,null,r.a.createElement(b.a,{paragraph:!0,variant:"h4",align:"center"},"GridFS File Uploads"),r.a.createElement("form",{onSubmit:function(e){var t=function(e){var t=new FormData;for(var n in e)"length"!==n&&t.append("file",e[n]);return t}(a.formImages);f.postImages(t).then((function(e){return i(Object(c.a)({},a,{images:e}))})),e.preventDefault()}},r.a.createElement(x.a,{display:"flex"},r.a.createElement("input",{accept:"image/*",style:{display:"none"},type:"file",name:"file",id:"file",multiple:!0,onChange:function(e){i(Object(c.a)({},a,{formImages:e.target.files}))}}),r.a.createElement("label",{htmlFor:"file",style:{margin:0,display:"flex",alignItems:"center",color:"inherit"}},r.a.createElement(g.a,{color:"inherit","aria-label":"upload picture",component:"span"},r.a.createElement(v.a,null))),r.a.createElement(p.a,{type:"submit",color:"inherit"},"Submit"))),r.a.createElement(b.a,{paragraph:!0,style:{height:"100%",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:200,margin:0,verticalAlign:"middle",lineHeight:1,width:"100%"}},a.formImages&&function(e){for(var t="",n=0,a=Object.values(e);n<a.length;n++){t+=a[n].name+", "}return t.slice(0,-2)}(a.formImages)),r.a.createElement(x.a,{display:"flex",flexWrap:"wrap"},a.images&&a.images.length?a.images.map((function(t){return r.a.createElement(w.a,{className:e.card,key:t.filename},r.a.createElement(y.a,{className:e.media,image:"http://localhost:8000/image/"+t.filename,title:t.filename}),r.a.createElement(E.a,null,r.a.createElement(p.a,{color:"primary",component:"a",href:"http://localhost:8000/image/"+t.filename},"View"),r.a.createElement(p.a,{color:"secondary",onClick:function(){return e=t._id,void f.deleteImage(e).then((function(e){return i(Object(c.a)({},a,{images:e}))}));var e}},"Delete")))})):"No Images"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[30,1,2]]]);
//# sourceMappingURL=main.ce142943.chunk.js.map